{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar FrameLoop_1 = require(\"./FrameLoop\");\n\nvar helpers_1 = require(\"./helpers\");\n\nexports.frameLoop = new FrameLoop_1.FrameLoop();\n\nexports.now = function () {\n  return Date.now();\n};\n\nexports.performanceNow = function () {\n  return performance.now();\n};\n\nexports.colorNames = null;\nexports.skipAnimation = false;\n\nexports.getComponentProps = function (props) {\n  return props;\n};\n\nexports.createAnimatedStyle = null;\nexports.createAnimatedTransform = null;\nexports.requestAnimationFrame = typeof window !== 'undefined' ? window.requestAnimationFrame : function () {\n  return -1;\n};\nexports.cancelAnimationFrame = typeof window !== 'undefined' ? window.cancelAnimationFrame : helpers_1.noop;\n\nexports.batchedUpdates = function (callback) {\n  return callback();\n};\n\nexports.assign = function (globals) {\n  var _a;\n\n  return _a = Object.assign({\n    to: exports.to,\n    now: exports.now,\n    frameLoop: exports.frameLoop,\n    colorNames: exports.colorNames,\n    skipAnimation: exports.skipAnimation,\n    defaultElement: exports.defaultElement,\n    performanceNow: exports.performanceNow,\n    getComponentProps: exports.getComponentProps,\n    applyAnimatedValues: exports.applyAnimatedValues,\n    createStringInterpolator: exports.createStringInterpolator,\n    createAnimatedTransform: exports.createAnimatedTransform,\n    createAnimatedStyle: exports.createAnimatedStyle,\n    requestAnimationFrame: exports.requestAnimationFrame,\n    cancelAnimationFrame: exports.cancelAnimationFrame,\n    batchedUpdates: exports.batchedUpdates\n  }, pluckDefined(globals)), exports.to = _a.to, exports.now = _a.now, exports.frameLoop = _a.frameLoop, exports.colorNames = _a.colorNames, exports.skipAnimation = _a.skipAnimation, exports.defaultElement = _a.defaultElement, exports.performanceNow = _a.performanceNow, exports.getComponentProps = _a.getComponentProps, exports.applyAnimatedValues = _a.applyAnimatedValues, exports.createStringInterpolator = _a.createStringInterpolator, exports.createAnimatedTransform = _a.createAnimatedTransform, exports.createAnimatedStyle = _a.createAnimatedStyle, exports.requestAnimationFrame = _a.requestAnimationFrame, exports.cancelAnimationFrame = _a.cancelAnimationFrame, exports.batchedUpdates = _a.batchedUpdates, _a;\n}; // Ignore undefined values\n\n\nfunction pluckDefined(globals) {\n  var defined = {};\n\n  for (var key in globals) {\n    if (globals[key] !== undefined) defined[key] = globals[key];\n  }\n\n  return defined;\n}","map":{"version":3,"sources":["../src/globals.ts"],"names":[],"mappings":";;;;;;AAIA,IAAA,WAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AAmBW,OAAA,CAAA,SAAA,GAAY,IAAI,WAAA,CAAA,SAAJ,EAAZ;;AAWA,OAAA,CAAA,GAAA,GAAM,YAAA;AAAM,SAAA,IAAI,CAAJ,GAAA,EAAA;AAAU,CAAtB;;AAIA,OAAA,CAAA,cAAA,GAAiB,YAAA;AAAM,SAAA,WAAW,CAAX,GAAA,EAAA;AAAiB,CAAxC;;AAEA,OAAA,CAAA,UAAA,GAA+C,IAA/C;AAEA,OAAA,CAAA,aAAA,GAAgB,KAAhB;;AAEA,OAAA,CAAA,iBAAA,GAAoB,UAAC,KAAD,EAAW;AAAK,SAAA,KAAA;AAAK,CAAzC;;AAEA,OAAA,CAAA,mBAAA,GAAoD,IAApD;AAEA,OAAA,CAAA,uBAAA,GAEA,IAFA;AAIA,OAAA,CAAA,qBAAA,GACT,OAAO,MAAP,KAAkB,WAAlB,GAAgC,MAAM,CAAC,qBAAvC,GAA+D,YAAA;AAAM,SAAA,CAAA,CAAA;AAAE,CAD9D;AAGA,OAAA,CAAA,oBAAA,GACT,OAAO,MAAP,KAAkB,WAAlB,GAAgC,MAAM,CAAC,oBAAvC,GAA8D,SAAA,CAAA,IADrD;;AAGA,OAAA,CAAA,cAAA,GAAiB,UAAC,QAAD,EAAqB;AAAK,SAAA,QAAA,EAAA;AAAU,CAArD;;AAuCE,OAAA,CAAA,MAAA,GAAS,UAAC,OAAD,EAAyB;;;AAC7C,SAAC,EAAA,GAAA,MAAA,CAAA,MAAA,CAAA;kBAAA;oBAAA;gCAAA;kCAAA;wCAAA;0CAAA;0CAAA;gDAAA;oDAAA;8DAAA;4DAAA;oDAAA;wDAAA;sDAAA;;AAAA,GAAA,E,aAmCA,O,CAnCA,CAAA,EACC,OAAA,CAAA,EAAA,GAAA,EAAA,CAAA,EADD,EAEC,OAAA,CAAA,GAAA,GAAA,EAAA,CAAA,GAFD,EAGC,OAAA,CAAA,SAAA,GAAA,EAAA,CAAA,SAHD,EAIC,OAAA,CAAA,UAAA,GAAA,EAAA,CAAA,UAJD,EAKC,OAAA,CAAA,aAAA,GAAA,EAAA,CAAA,aALD,EAMC,OAAA,CAAA,cAAA,GAAA,EAAA,CAAA,cAND,EAOC,OAAA,CAAA,cAAA,GAAA,EAAA,CAAA,cAPD,EAQC,OAAA,CAAA,iBAAA,GAAA,EAAA,CAAA,iBARD,EASC,OAAA,CAAA,mBAAA,GAAA,EAAA,CAAA,mBATD,EAUC,OAAA,CAAA,wBAAA,GAAA,EAAA,CAAA,wBAVD,EAWC,OAAA,CAAA,uBAAA,GAAA,EAAA,CAAA,uBAXD,EAYC,OAAA,CAAA,mBAAA,GAAA,EAAA,CAAA,mBAZD,EAaC,OAAA,CAAA,qBAAA,GAAA,EAAA,CAAA,qBAbD,EAcC,OAAA,CAAA,oBAAA,GAAA,EAAA,CAAA,oBAdD,EAeC,OAAA,CAAA,cAAA,GAAA,EAAA,CAAA,cAfD,EAee,EAfhB;AAmCE,CApCS,C,CAsCb;;;AACA,SAAS,YAAT,CAAsB,OAAtB,EAAkC;AAChC,MAAM,OAAO,GAAQ,EAArB;;AACA,OAAK,IAAM,GAAX,IAAkB,OAAlB,EAA2B;AACzB,QAAI,OAAO,CAAC,GAAD,CAAP,KAAiB,SAArB,EAAgC,OAAO,CAAC,GAAD,CAAP,GAAe,OAAO,CAAC,GAAD,CAAtB;AACjC;;AACD,SAAO,OAAP;AACD","sourcesContent":["import { ElementType } from 'react'\nimport { FluidValue } from 'fluids'\n\nimport { InterpolatorConfig, InterpolatorArgs, OneOrMore } from './types'\nimport { FrameLoop } from './FrameLoop'\nimport { noop } from './helpers'\n\ndeclare const window: {\n  requestAnimationFrame: (cb: (time: number) => void) => number\n  cancelAnimationFrame: (id: number) => void\n}\n\n//\n// Required\n//\n\nexport let defaultElement: string | ElementType\n\nexport let applyAnimatedValues: (node: any, props: any) => boolean | void\n\nexport let createStringInterpolator: (\n  config: InterpolatorConfig<string>\n) => (input: number) => string\n\nexport let frameLoop = new FrameLoop()\n\n//\n// Optional\n//\n\nexport let to: <In, Out>(\n  source: OneOrMore<FluidValue>,\n  args: InterpolatorArgs<In, Out>\n) => FluidValue<Out>\n\nexport let now = () => Date.now()\n\ndeclare const performance: { now: () => number }\n\nexport let performanceNow = () => performance.now()\n\nexport let colorNames: { [key: string]: number } | null = null as any\n\nexport let skipAnimation = false\n\nexport let getComponentProps = (props: any) => props\n\nexport let createAnimatedStyle: ((style: any) => any) | null = null as any\n\nexport let createAnimatedTransform:\n  | ((transform: any) => any)\n  | null = null as any\n\nexport let requestAnimationFrame: typeof window.requestAnimationFrame =\n  typeof window !== 'undefined' ? window.requestAnimationFrame : () => -1\n\nexport let cancelAnimationFrame: typeof window.cancelAnimationFrame =\n  typeof window !== 'undefined' ? window.cancelAnimationFrame : noop\n\nexport let batchedUpdates = (callback: () => void) => callback()\n\n//\n// Configuration\n//\n\nexport interface AnimatedGlobals {\n  /** Returns a new `Interpolation` object */\n  to?: typeof to\n  /** Used for timestamps in milliseconds. Read more [here](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now) */\n  now?: typeof now\n  /** Provide a custom `FrameLoop` instance */\n  frameLoop?: typeof frameLoop\n  /** Provide custom color names for interpolation */\n  colorNames?: typeof colorNames\n  /** Make all animations instant and skip the frameloop entirely */\n  skipAnimation?: typeof skipAnimation\n  /** The `div` element equivalent for the current platform */\n  defaultElement?: typeof defaultElement\n  /** Used to measure frame length. Read more [here](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now) */\n  performanceNow?: typeof performanceNow\n  /** Intercept props before they're passed to an animated component */\n  getComponentProps?: typeof getComponentProps\n  /** Provide custom logic for native updates */\n  applyAnimatedValues?: typeof applyAnimatedValues\n  /** Provide custom logic for string interpolation */\n  createStringInterpolator?: typeof createStringInterpolator\n  /** Wrap the `transform` prop with an animated node */\n  createAnimatedTransform?: typeof createAnimatedTransform\n  /** Wrap the `style` prop with an animated node */\n  createAnimatedStyle?: typeof createAnimatedStyle\n  /** Schedule a function to run on the next frame */\n  requestAnimationFrame?: typeof requestAnimationFrame\n  /** Prevent a scheduled function from running on the next frame */\n  cancelAnimationFrame?: typeof cancelAnimationFrame\n  /** Event props are called with `batchedUpdates` to reduce extraneous renders */\n  batchedUpdates?: typeof batchedUpdates\n}\n\nexport const assign = (globals: AnimatedGlobals): AnimatedGlobals =>\n  ({\n    to,\n    now,\n    frameLoop,\n    colorNames,\n    skipAnimation,\n    defaultElement,\n    performanceNow,\n    getComponentProps,\n    applyAnimatedValues,\n    createStringInterpolator,\n    createAnimatedTransform,\n    createAnimatedStyle,\n    requestAnimationFrame,\n    cancelAnimationFrame,\n    batchedUpdates,\n  } = Object.assign(\n    {\n      to,\n      now,\n      frameLoop,\n      colorNames,\n      skipAnimation,\n      defaultElement,\n      performanceNow,\n      getComponentProps,\n      applyAnimatedValues,\n      createStringInterpolator,\n      createAnimatedTransform,\n      createAnimatedStyle,\n      requestAnimationFrame,\n      cancelAnimationFrame,\n      batchedUpdates,\n    },\n    pluckDefined(globals)\n  ))\n\n// Ignore undefined values\nfunction pluckDefined(globals: any) {\n  const defined: any = {}\n  for (const key in globals) {\n    if (globals[key] !== undefined) defined[key] = globals[key]\n  }\n  return defined\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}