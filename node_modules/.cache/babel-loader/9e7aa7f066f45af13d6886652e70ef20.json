{"ast":null,"code":"import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { Globals as Globals$1 } from '@react-spring/core';\nexport * from '@react-spring/core';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport { createStringInterpolator } from '@react-spring/shared/stringInterpolation';\nimport colorNames from '@react-spring/shared/colors';\nimport { Globals, each, is, toArray, FluidValue, getFluidConfig } from '@react-spring/shared';\nimport { AnimatedObject, extendAnimated, withAnimated } from '@react-spring/animated';\nconst isCustomPropRE = /^--/;\n\nfunction dangerousStyleValue(name, value) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (typeof value === 'number' && value !== 0 && !isCustomPropRE.test(name) && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers\n\n  return ('' + value).trim();\n}\n\nconst attributeCache = {};\n\nfunction applyAnimatedValues(instance, props) {\n  if (!instance.nodeType || !instance.setAttribute) {\n    return false;\n  }\n\n  const isFilterElement = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';\n\n  const {\n    style,\n    children,\n    scrollTop,\n    scrollLeft\n  } = props,\n        attributes = _objectWithoutPropertiesLoose(props, [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"]);\n\n  const values = Object.values(attributes);\n  const names = Object.keys(attributes).map(name => isFilterElement || instance.hasAttribute(name) ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, // Attributes are written in dash case\n  n => '-' + n.toLowerCase())));\n  Globals.frameLoop.onWrite(() => {\n    if (children !== void 0) {\n      instance.textContent = children;\n    } // Apply CSS styles\n\n\n    for (let name in style) {\n      if (style.hasOwnProperty(name)) {\n        const value = dangerousStyleValue(name, style[name]);\n        if (name === 'float') name = 'cssFloat';else if (isCustomPropRE.test(name)) {\n          instance.style.setProperty(name, value);\n        } else {\n          instance.style[name] = value;\n        }\n      }\n    } // Apply DOM attributes\n\n\n    names.forEach((name, i) => {\n      instance.setAttribute(name, values[i]);\n    });\n\n    if (scrollTop !== void 0) {\n      instance.scrollTop = scrollTop;\n    }\n\n    if (scrollLeft !== void 0) {\n      instance.scrollLeft = scrollLeft;\n    }\n  });\n}\n\nlet isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nconst prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\nconst prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {\n  prefixes.forEach(prefix => acc[prefixKey(prefix, prop)] = acc[prop]);\n  return acc;\n}, isUnitlessNumber);\n/** The transform-functions\r\n * (https://developer.mozilla.org/fr/docs/Web/CSS/transform-function)\r\n * that you can pass as keys to your animated component style and that will be\r\n * animated. Perspective has been left out as it would conflict with the\r\n * non-transform perspective style.\r\n */\n\nconst domTransforms = /^(matrix|translate|scale|rotate|skew)/; // These keys have \"px\" units by default\n\nconst pxTransforms = /^(translate)/; // These keys have \"deg\" units by default\n\nconst degTransforms = /^(rotate|skew)/;\n/** Add a unit to the value when the value is unit-less (eg: a number) */\n\nconst addUnit = (value, unit) => is.num(value) && value !== 0 ? value + unit : value;\n/**\r\n * Checks if the input value matches the identity value.\r\n *\r\n *     isValueIdentity(0, 0)              // => true\r\n *     isValueIdentity('0px', 0)          // => true\r\n *     isValueIdentity([0, '0px', 0], 0)  // => true\r\n */\n\n\nconst isValueIdentity = (value, id) => is.arr(value) ? value.every(v => isValueIdentity(v, id)) : is.num(value) ? value === id : parseFloat(value) === id;\n/**\r\n * This AnimatedStyle will simplify animated components transforms by\r\n * interpolating all transform function passed as keys in the style object\r\n * including shortcuts such as x, y and z for translateX/Y/Z\r\n */\n\n\nclass AnimatedStyle extends AnimatedObject {\n  constructor(_ref) {\n    let {\n      x,\n      y,\n      z\n    } = _ref,\n        style = _objectWithoutPropertiesLoose(_ref, [\"x\", \"y\", \"z\"]);\n    /**\r\n     * An array of arrays that contains the values (static or fluid)\r\n     * used by each transform function.\r\n     */\n\n\n    const inputs = [];\n    /**\r\n     * An array of functions that take a list of values (static or fluid)\r\n     * and returns (1) a CSS transform string and (2) a boolean that's true\r\n     * when the transform has no effect (eg: an identity transform).\r\n     */\n\n    const transforms = []; // Combine x/y/z into translate3d\n\n    if (x || y || z) {\n      inputs.push([x || 0, y || 0, z || 0]);\n      transforms.push(xyz => [`translate3d(${xyz.map(v => addUnit(v, 'px')).join(',')})`, isValueIdentity(xyz, 0)]);\n    } // Pluck any other transform-related props\n\n\n    each(style, (value, key) => {\n      if (key === 'transform') {\n        inputs.push([value || '']);\n        transforms.push(transform => [transform, transform === '']);\n      } else if (domTransforms.test(key)) {\n        delete style[key];\n        if (is.und(value)) return;\n        const unit = pxTransforms.test(key) ? 'px' : degTransforms.test(key) ? 'deg' : '';\n        inputs.push(toArray(value));\n        transforms.push(key === 'rotate3d' ? ([x, y, z, deg]) => [`rotate3d(${x},${y},${z},${addUnit(deg, unit)})`, isValueIdentity(deg, 0)] : input => [`${key}(${input.map(v => addUnit(v, unit)).join(',')})`, isValueIdentity(input, key.startsWith('scale') ? 1 : 0)]);\n      }\n    });\n\n    if (inputs.length) {\n      style.transform = new FluidTransform(inputs, transforms);\n    }\n\n    super(style);\n  }\n\n}\n/** Coerce any `FluidValue` to its current value */\n\n\nconst getValue = value => {\n  const config = getFluidConfig(value);\n  return config ? config.get() : value;\n};\n/** @internal */\n\n\nclass FluidTransform extends FluidValue {\n  constructor(inputs, transforms) {\n    super();\n    this.inputs = inputs;\n    this.transforms = transforms;\n    this._value = null;\n    this._children = new Set();\n  }\n\n  get() {\n    return this._value || (this._value = this._get());\n  }\n\n  _get() {\n    let transform = '';\n    let identity = true;\n    each(this.inputs, (input, i) => {\n      const arg1 = getValue(input[0]);\n      const [t, id] = this.transforms[i](is.arr(arg1) ? arg1 : input.map(getValue));\n      transform += ' ' + t;\n      identity = identity && id;\n    });\n    return identity ? 'none' : transform;\n  }\n\n  addChild(child) {\n    if (!this._children.size) {\n      // Start observing our inputs once we have an observer.\n      each(this.inputs, input => each(input, value => {\n        const config = getFluidConfig(value);\n        if (config) config.addChild(this);\n      }));\n    }\n\n    this._children.add(child);\n  }\n\n  removeChild(child) {\n    this._children.delete(child);\n\n    if (!this._children.size) {\n      // Stop observing our inputs once we have no observers.\n      each(this.inputs, input => each(input, value => {\n        const config = getFluidConfig(value);\n        if (config) config.removeChild(this);\n      }));\n    }\n  }\n\n  onParentChange(event) {\n    if (event.type == 'change') {\n      this._value = null;\n    }\n\n    each(this._children, child => {\n      child.onParentChange(event);\n    });\n  }\n\n}\n\nconst elements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\nconst animated = extendAnimated(withAnimated, elements);\nGlobals$1.assign({\n  defaultElement: 'div',\n  colorNames,\n  applyAnimatedValues,\n  createStringInterpolator,\n  createAnimatedStyle: style => new AnimatedStyle(style),\n  getComponentProps: _ref => {\n    let props = _objectWithoutPropertiesLoose(_ref, [\"scrollTop\", \"scrollLeft\"]);\n\n    return props;\n  },\n  batchedUpdates: unstable_batchedUpdates\n});\nexport { animated as a, animated };","map":{"version":3,"sources":["src/applyAnimatedValues.ts","src/AnimatedStyle.ts","src/elements.ts","src/animated.ts","src/index.ts"],"names":["isCustomPropRE","value","isUnitlessNumber","attributeCache","applyAnimatedValues","instance","props","isFilterElement","scrollLeft","attributes","values","Object","names","name","n","G","children","style","dangerousStyleValue","scrollTop","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixKey","prefix","key","prefixes","acc","domTransforms","pxTransforms","degTransforms","addUnit","is","isValueIdentity","v","parseFloat","AnimatedStyle","AnimatedObject","constructor","z","inputs","transforms","x","y","xyz","each","transform","unit","toArray","input","getValue","config","getFluidConfig","get","_get","identity","arg1","addChild","removeChild","onParentChange","event","child","elements","animated","extendAnimated","Globals","defaultElement","createAnimatedStyle","getComponentProps","batchedUpdates","unstable_batchedUpdates"],"mappings":"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","sourcesContent":["import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { Globals as Globals$1 } from '@react-spring/core';\nexport * from '@react-spring/core';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport { createStringInterpolator } from '@react-spring/shared/stringInterpolation';\nimport colorNames from '@react-spring/shared/colors';\nimport { Globals, each, is, toArray, FluidValue, getFluidConfig } from '@react-spring/shared';\nimport { AnimatedObject, extendAnimated, withAnimated } from '@react-spring/animated';\n\nconst isCustomPropRE = /^--/;\n\nfunction dangerousStyleValue(name, value) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (typeof value === 'number' && value !== 0 && !isCustomPropRE.test(name) && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers\n\n  return ('' + value).trim();\n}\n\nconst attributeCache = {};\nfunction applyAnimatedValues(instance, props) {\n  if (!instance.nodeType || !instance.setAttribute) {\n    return false;\n  }\n\n  const isFilterElement = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';\n\n  const {\n    style,\n    children,\n    scrollTop,\n    scrollLeft\n  } = props,\n        attributes = _objectWithoutPropertiesLoose(props, [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"]);\n\n  const values = Object.values(attributes);\n  const names = Object.keys(attributes).map(name => isFilterElement || instance.hasAttribute(name) ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, // Attributes are written in dash case\n  n => '-' + n.toLowerCase())));\n  Globals.frameLoop.onWrite(() => {\n    if (children !== void 0) {\n      instance.textContent = children;\n    } // Apply CSS styles\n\n\n    for (let name in style) {\n      if (style.hasOwnProperty(name)) {\n        const value = dangerousStyleValue(name, style[name]);\n        if (name === 'float') name = 'cssFloat';else if (isCustomPropRE.test(name)) {\n          instance.style.setProperty(name, value);\n        } else {\n          instance.style[name] = value;\n        }\n      }\n    } // Apply DOM attributes\n\n\n    names.forEach((name, i) => {\n      instance.setAttribute(name, values[i]);\n    });\n\n    if (scrollTop !== void 0) {\n      instance.scrollTop = scrollTop;\n    }\n\n    if (scrollLeft !== void 0) {\n      instance.scrollLeft = scrollLeft;\n    }\n  });\n}\nlet isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nconst prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\nconst prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {\n  prefixes.forEach(prefix => acc[prefixKey(prefix, prop)] = acc[prop]);\n  return acc;\n}, isUnitlessNumber);\n\n/** The transform-functions\r\n * (https://developer.mozilla.org/fr/docs/Web/CSS/transform-function)\r\n * that you can pass as keys to your animated component style and that will be\r\n * animated. Perspective has been left out as it would conflict with the\r\n * non-transform perspective style.\r\n */\n\nconst domTransforms = /^(matrix|translate|scale|rotate|skew)/; // These keys have \"px\" units by default\n\nconst pxTransforms = /^(translate)/; // These keys have \"deg\" units by default\n\nconst degTransforms = /^(rotate|skew)/;\n/** Add a unit to the value when the value is unit-less (eg: a number) */\n\nconst addUnit = (value, unit) => is.num(value) && value !== 0 ? value + unit : value;\n/**\r\n * Checks if the input value matches the identity value.\r\n *\r\n *     isValueIdentity(0, 0)              // => true\r\n *     isValueIdentity('0px', 0)          // => true\r\n *     isValueIdentity([0, '0px', 0], 0)  // => true\r\n */\n\n\nconst isValueIdentity = (value, id) => is.arr(value) ? value.every(v => isValueIdentity(v, id)) : is.num(value) ? value === id : parseFloat(value) === id;\n/**\r\n * This AnimatedStyle will simplify animated components transforms by\r\n * interpolating all transform function passed as keys in the style object\r\n * including shortcuts such as x, y and z for translateX/Y/Z\r\n */\n\n\nclass AnimatedStyle extends AnimatedObject {\n  constructor(_ref) {\n    let {\n      x,\n      y,\n      z\n    } = _ref,\n        style = _objectWithoutPropertiesLoose(_ref, [\"x\", \"y\", \"z\"]);\n\n    /**\r\n     * An array of arrays that contains the values (static or fluid)\r\n     * used by each transform function.\r\n     */\n    const inputs = [];\n    /**\r\n     * An array of functions that take a list of values (static or fluid)\r\n     * and returns (1) a CSS transform string and (2) a boolean that's true\r\n     * when the transform has no effect (eg: an identity transform).\r\n     */\n\n    const transforms = []; // Combine x/y/z into translate3d\n\n    if (x || y || z) {\n      inputs.push([x || 0, y || 0, z || 0]);\n      transforms.push(xyz => [`translate3d(${xyz.map(v => addUnit(v, 'px')).join(',')})`, isValueIdentity(xyz, 0)]);\n    } // Pluck any other transform-related props\n\n\n    each(style, (value, key) => {\n      if (key === 'transform') {\n        inputs.push([value || '']);\n        transforms.push(transform => [transform, transform === '']);\n      } else if (domTransforms.test(key)) {\n        delete style[key];\n        if (is.und(value)) return;\n        const unit = pxTransforms.test(key) ? 'px' : degTransforms.test(key) ? 'deg' : '';\n        inputs.push(toArray(value));\n        transforms.push(key === 'rotate3d' ? ([x, y, z, deg]) => [`rotate3d(${x},${y},${z},${addUnit(deg, unit)})`, isValueIdentity(deg, 0)] : input => [`${key}(${input.map(v => addUnit(v, unit)).join(',')})`, isValueIdentity(input, key.startsWith('scale') ? 1 : 0)]);\n      }\n    });\n\n    if (inputs.length) {\n      style.transform = new FluidTransform(inputs, transforms);\n    }\n\n    super(style);\n  }\n\n}\n/** Coerce any `FluidValue` to its current value */\n\nconst getValue = value => {\n  const config = getFluidConfig(value);\n  return config ? config.get() : value;\n};\n/** @internal */\n\n\nclass FluidTransform extends FluidValue {\n  constructor(inputs, transforms) {\n    super();\n    this.inputs = inputs;\n    this.transforms = transforms;\n    this._value = null;\n    this._children = new Set();\n  }\n\n  get() {\n    return this._value || (this._value = this._get());\n  }\n\n  _get() {\n    let transform = '';\n    let identity = true;\n    each(this.inputs, (input, i) => {\n      const arg1 = getValue(input[0]);\n      const [t, id] = this.transforms[i](is.arr(arg1) ? arg1 : input.map(getValue));\n      transform += ' ' + t;\n      identity = identity && id;\n    });\n    return identity ? 'none' : transform;\n  }\n\n  addChild(child) {\n    if (!this._children.size) {\n      // Start observing our inputs once we have an observer.\n      each(this.inputs, input => each(input, value => {\n        const config = getFluidConfig(value);\n        if (config) config.addChild(this);\n      }));\n    }\n\n    this._children.add(child);\n  }\n\n  removeChild(child) {\n    this._children.delete(child);\n\n    if (!this._children.size) {\n      // Stop observing our inputs once we have no observers.\n      each(this.inputs, input => each(input, value => {\n        const config = getFluidConfig(value);\n        if (config) config.removeChild(this);\n      }));\n    }\n  }\n\n  onParentChange(event) {\n    if (event.type == 'change') {\n      this._value = null;\n    }\n\n    each(this._children, child => {\n      child.onParentChange(event);\n    });\n  }\n\n}\n\nconst elements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n\nconst animated = extendAnimated(withAnimated, elements);\n\nGlobals$1.assign({\n  defaultElement: 'div',\n  colorNames,\n  applyAnimatedValues,\n  createStringInterpolator,\n  createAnimatedStyle: style => new AnimatedStyle(style),\n  getComponentProps: (_ref) => {\n    let props = _objectWithoutPropertiesLoose(_ref, [\"scrollTop\", \"scrollLeft\"]);\n\n    return props;\n  },\n  batchedUpdates: unstable_batchedUpdates\n});\n\nexport { animated as a, animated };\n//# sourceMappingURL=index.js.map\n"]},"metadata":{},"sourceType":"module"}